<!--
  #%L
  project-manager
  %%
  Copyright (C) 2016 Kodo-kojo
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as
  published by the Free Software Foundation, either version 3 of the
  License, or (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public
  License along with this program.  If not, see
  <http://www.gnu.org/licenses/gpl-3.0.html>.
  #L%
  -->
<!doctype html>
<html>
  <head>
    <script type='text/javascript'>
       function getVariable(string, variable) {
         var vars = string.split('&');
         for (var i = 0; i < vars.length; i++) {
             var pair = vars[i].split('=');
             if (decodeURIComponent(pair[0]) == variable) {
                 return decodeURIComponent(pair[1]);
             }
         }

        return undefined;
       }

       function getQueryVariable(variable) {
         var query = window.location.search.substring(1);
         return getVariable(query, variable);
       }

       var result = {
        token: getQueryVariable('oauth_token'),
        verifier: getQueryVariable('oauth_verifier')
       };

       window.opener.RAML.authorizationSuccess(result);
       window.close();
    </script>
  </head>
  <body>
  </body>
</html>
